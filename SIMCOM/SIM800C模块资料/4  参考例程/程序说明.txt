STC12 STC15 STM32 测试程序硬件连接方式和程序功能说明

一：硬件连接方式 （注：模块的通信波特率设置为115200）

1、STC12、STC15、STM32的串口一（下载程序的串口）直接与电脑的串口相连，即下载程序后打开串口助手查看上传的数据即可，如果不需要查看数据，下载好程序就不用理了。

2、GPRS模块的TXD和RXD分别与STC12、STC15、STM32的串口2的RXD和TXD相连，GND与GND相连。
STC89  串口引脚   TXD 		P3.1 	
STC89  串口引脚   RXD 		P3.0
STC89  开关机管脚 PWR_MG323	P3.4
STC89  控制指示灯 LED		P3.3
STC89  开关机管脚 RUNING_LED	P3.2

STC12  晶振频率:11.0592Mhz
STC12  串口2引脚  TXD2 		P1.3
STC12  串口2引脚  RXD2 		P1.2


STC15  晶振频率:22.1184Mhz
STC15  串口2引脚  TXD2 		P1.1
STC15  串口2引脚  RXD2 		P1.0



STM32  晶振频率:8Mhz
STM32  串口2引脚  TXD2 		PA.2
STM32  串口2引脚  RXD2 		PA.3


二：程序功能说明

A、短信测试程序
本程序通过手机短信控制LED的亮灭
1、板子上电后运行指示灯RUNING_LED会以一秒的频率闪烁；
2、通过芯片的串口1可以监视模块的登录情况；
3、手机发送“onled”点亮LED；
4、手机发送“offled”熄灭LED；
5、使用串口2与模块通信，串口1用于将信息打印输出。

B、GPRS测试程序(域名)
本程序通过GPRS服务器控制LED的亮灭
1、板子上电后运行指示灯RUNING_LED会以一秒的频率闪烁；
2、通过单片机的串口1，可以监视模块的登录情况；
3、手机发送“onled”点亮LED；
4、手机发送“offled”熄灭LED；
5、单片机每隔10秒会向服务器发送心跳帧“OK”
6、通过串口助手监控单片机的串口1可以看到服务器发送的信息；

C、GPRS测试程序(动态IP)
本程序通过GPRS服务器控制LED的亮灭
1、板子上电后运行指示灯RUNING_LED会以一秒的频率闪烁；
2、通过单片机的串口1，可以监视模块的登录情况；
3、手机发送“onled”点亮LED；
4、手机发送“offled”熄灭LED；
5、单片机每隔10秒会向服务器发送心跳帧“OK”
6、通过串口助手监控单片机的串口1可以看到服务器发送的信息；

D、GPS测试程序
本程序打开模块的GPS功能，待定位成功后，不停的向串口1输出定位信息；

E、蓝牙测试程序
运行程序前，请先在手机安装我们提供的蓝牙串口软件；并将手机蓝牙处于“可被发现”状态，之后运行手机的蓝牙串口；
1、运行运行后可以在串口1看到程序的运行状态，和连接过程；
2、模块会主动连接收索到的第一个蓝牙设备，必需保证附近没有其他可连接的蓝牙设备，不然会连接不上你的手机；
3、连接成功后，模块会主动间隔一段时间就发送数据给手机蓝牙；
4、手机蓝牙发送数据给模块，模块收到后会转发到串口1；

F、蓝牙控制LED程序
运行程序前，请先在手机安装我们提供的蓝牙串口软件；并将手机蓝牙处于“可被发现”状态，之后运行手机的蓝牙串口；
1、运行运行后可以在串口1看到程序的运行状态，和连接过程；
2、模块会主动连接收索到的第一个蓝牙设备，必需保证附近没有其他可连接的蓝牙设备，不然会连接不上你的手机；
3、连接成功后，模块会主动间隔一段时间就发送数据给手机蓝牙；
4、手机蓝牙发送数据给模块，模块收到后会转发到串口1；
5、收到手机蓝牙下发的控制命令，程序会点亮或熄灭LED；



Arduino Uno 测试程序硬件连接方式和程序功能说明

一：硬件连接方式 （注：模块的通信波特率设置为19200）

1、Arduino Uno的串口（下载程序的串口）直接与电脑的串口相连，即下载程序后打开串口助手查看上传的数据即可，如果不需要查看数据，下载好程序就不用理了。

2、GPRS模块的RXD和TXD分别与Arduino Uno的模拟串口TXD和RXD（2->RX,3<-TX）相连，GND与GND相连，如果使用自动启动功能（V1.2版本才有这功能）或手动按键启动就不用将单片机的开关机管脚与模块的PWR引脚相连。

Arduino Uno  模拟串口   TXD 		P3
Arduino Uno  模拟串口   RXD 		P2



C51单片机 测试程序硬件连接方式和程序功能说明

一：硬件连接方式 （注：模块的通信波特率设置为9600）
1、STC89C51的串口用于下载程序和与模块通信，所以在下载程序时先不要接上GPRS模块。待下载完成在将模块的串口接到单片机串口上。

STC89  串口引脚   TXD 		P3.1 	
STC89  串口引脚   RXD 		P3.0

二：程序功能说明

A、短信测试程序
本程序通过手机短信控制LED的亮灭
1、板子上电后运行指示灯RUNING_LED会以一秒的频率闪烁；
2、通过芯片的串口1可以监视模块的登录情况；
3、手机发送“onled”点亮LED；
4、手机发送“offled”熄灭LED；

B、GPRS测试程序(域名)
本程序通过GPRS服务器控制LED的亮灭
1、1、板子上电后运行指示灯RUNING_LED会以一秒的频率闪烁；
2、通过单片机的串口1，可以监视模块的登录情况；
3、手机发送“onled”点亮LED；
4、手机发送“offled”熄灭LED；
5、单片机每隔10秒会向服务器发送心跳帧“OK”

C、GPRS测试程序(动态IP)
本程序通过GPRS服务器控制LED的亮灭
1、1、板子上电后运行指示灯RUNING_LED会以一秒的频率闪烁；
2、通过单片机的串口1，可以监视模块的登录情况；
3、手机发送“onled”点亮LED；
4、手机发送“offled”熄灭LED；
5、单片机每隔10秒会向服务器发送心跳帧“OK”

D、蓝牙控制LED程序
运行程序前，请先在手机安装我们提供的蓝牙串口软件；并将手机蓝牙处于“可被发现”状态，之后运行手机的蓝牙串口；
1、运行运行后可以在串口1看到程序的运行状态，和连接过程；
2、模块会主动连接收索到的第一个蓝牙设备，必需保证附近没有其他可连接的蓝牙设备，不然会连接不上你的手机；
3、连接成功后，模块会主动间隔一段时间就发送数据给手机蓝牙；
4、收到手机蓝牙下发的控制命令，程序会点亮或熄灭LED；

